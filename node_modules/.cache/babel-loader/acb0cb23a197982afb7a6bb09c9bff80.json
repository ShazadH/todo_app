{"ast":null,"code":"import _slicedToArray from\"/Users/shazad/MyGithub/todo_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Todo from\"./Todo\";import{Button,FormControl,InputLabel,Input}from\"@material-ui/core\";import\"./App.css\";import db from\"./firebase\";import firebase from\"firebase\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),input=_useState4[0],setInput=_useState4[1];// When the app loads, we need to listen to the database and fetch new todos as they get added/removed\nuseEffect(function(){// this code here.... fires when the app.js loads\ndb.collection(\"todos\").orderBy(\"timestamp\",\"desc\").onSnapshot(function(snapshot){setTodos(snapshot.docs.map(function(doc){return doc.data().todo;}));});},[]);var addTodo=function addTodo(event){// this will fire off when we click the button\nevent.preventDefault();// will not refresh the page\ndb.collection(\"todos\").add({todo:input,timestamp:firebase.firestore.FieldValue.serverTimestamp()});setInput(\"\");// clear up the input\n};return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Hello Shazad!!!\"),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(FormControl,null,/*#__PURE__*/React.createElement(InputLabel,null,\"Write a todo\"),/*#__PURE__*/React.createElement(Input,{value:input,onChange:function onChange(event){return setInput(event.target.value);}})),/*#__PURE__*/React.createElement(Button,{disabled:!input,type:\"submit\",onClick:addTodo,variant:\"contained\",color:\"primary\"},\"Add Todo\")),/*#__PURE__*/React.createElement(\"ul\",null,todos.map(function(todo){return/*#__PURE__*/React.createElement(Todo,{text:todo});})));}export default App;","map":{"version":3,"sources":["/Users/shazad/MyGithub/todo_app/src/App.js"],"names":["React","useState","useEffect","Todo","Button","FormControl","InputLabel","Input","db","firebase","App","todos","setTodos","input","setInput","collection","orderBy","onSnapshot","snapshot","docs","map","doc","data","todo","addTodo","event","preventDefault","add","timestamp","firestore","FieldValue","serverTimestamp","target","value"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,OAASC,MAAT,CAAiBC,WAAjB,CAA8BC,UAA9B,CAA0CC,KAA1C,KAAuD,mBAAvD,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CAEA,QAASC,CAAAA,GAAT,EAAe,eACaT,QAAQ,CAAC,EAAD,CADrB,wCACNU,KADM,eACCC,QADD,8BAEaX,QAAQ,CAAC,EAAD,CAFrB,yCAENY,KAFM,eAECC,QAFD,eAIb;AACAZ,SAAS,CAAC,UAAM,CACd;AACAM,EAAE,CAACO,UAAH,CAAc,OAAd,EACGC,OADH,CACW,WADX,CACwB,MADxB,EAEGC,UAFH,CAEc,SAACC,QAAD,CAAc,CACxBN,QAAQ,CAACM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,GAAWC,IAApB,EAAlB,CAAD,CAAR,CACD,CAJH,EAKD,CAPQ,CAON,EAPM,CAAT,CASA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,CACzB;AACAA,KAAK,CAACC,cAAN,GAAwB;AAExBlB,EAAE,CAACO,UAAH,CAAc,OAAd,EAAuBY,GAAvB,CAA2B,CACzBJ,IAAI,CAAEV,KADmB,CAEzBe,SAAS,CAAEnB,QAAQ,CAACoB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EAFc,CAA3B,EAIAjB,QAAQ,CAAC,EAAD,CAAR,CAAc;AACf,CATD,CAWA,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,gDADF,cAEE,6CACE,oBAAC,WAAD,mBACE,oBAAC,UAAD,qBADF,cAEE,oBAAC,KAAD,EACE,KAAK,CAAED,KADT,CAEE,QAAQ,CAAE,kBAACY,KAAD,QAAWX,CAAAA,QAAQ,CAACW,KAAK,CAACO,MAAN,CAAaC,KAAd,CAAnB,EAFZ,EAFF,CADF,cASE,oBAAC,MAAD,EACE,QAAQ,CAAE,CAACpB,KADb,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAEW,OAHX,CAIE,OAAO,CAAC,WAJV,CAKE,KAAK,CAAC,SALR,aATF,CAFF,cAsBE,8BACGb,KAAK,CAACS,GAAN,CAAU,SAACG,IAAD,qBACT,oBAAC,IAAD,EAAM,IAAI,CAAEA,IAAZ,EADS,EAAV,CADH,CAtBF,CADF,CA8BD,CAED,cAAeb,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Todo from \"./Todo\";\nimport { Button, FormControl, InputLabel, Input } from \"@material-ui/core\";\nimport \"./App.css\";\nimport db from \"./firebase\";\nimport firebase from \"firebase\";\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  const [input, setInput] = useState(\"\");\n\n  // When the app loads, we need to listen to the database and fetch new todos as they get added/removed\n  useEffect(() => {\n    // this code here.... fires when the app.js loads\n    db.collection(\"todos\")\n      .orderBy(\"timestamp\", \"desc\")\n      .onSnapshot((snapshot) => {\n        setTodos(snapshot.docs.map((doc) => doc.data().todo));\n      });\n  }, []);\n\n  const addTodo = (event) => {\n    // this will fire off when we click the button\n    event.preventDefault(); // will not refresh the page\n\n    db.collection(\"todos\").add({\n      todo: input,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n    });\n    setInput(\"\"); // clear up the input\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Hello Shazad!!!</h1>\n      <form>\n        <FormControl>\n          <InputLabel>Write a todo</InputLabel>\n          <Input\n            value={input}\n            onChange={(event) => setInput(event.target.value)}\n          />\n        </FormControl>\n\n        <Button\n          disabled={!input}\n          type=\"submit\"\n          onClick={addTodo}\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          Add Todo\n        </Button>\n      </form>\n\n      <ul>\n        {todos.map((todo) => (\n          <Todo text={todo} />\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}